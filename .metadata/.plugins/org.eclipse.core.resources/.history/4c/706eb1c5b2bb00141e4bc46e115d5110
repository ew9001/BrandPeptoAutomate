package webdriver;

import java.io.File;
import java.net.URL;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.concurrent.TimeUnit;

import org.openqa.selenium.By;
import org.openqa.selenium.JavascriptExecutor;
import org.openqa.selenium.OutputType;
import org.openqa.selenium.TakesScreenshot;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.android.AndroidDriver;
import org.openqa.selenium.iphone.IPhoneDriver;
import org.openqa.selenium.remote.DesiredCapabilities;
import org.openqa.selenium.remote.RemoteWebDriver;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.Select;
import org.openqa.selenium.support.ui.WebDriverWait;

public class Iphone {
	public static void main(String[] args) throws Exception {
		 String timeStamp = new SimpleDateFormat("yyyyMMdd_HHmmss").format(Calendar.getInstance().getTime());
		   int counter=1;
		    int loop = 0;
			String local=(new java.io.File("").getAbsolutePath());
			String data="" + local + "/" + "tampax.csv";
			String myTitle;
			String csvFileToRead;
			
		  WebDriver driver = new IPhoneDriver("http://172.28.60.44:3001/wd/hub/");
		  //Write a review
		  
		  driver.get("http://author.tampax.pgsitecore.com/en-us/shop-products/pearl/pearl1/pearl-active-super");
		  driver.manage().timeouts().implicitlyWait(450000, TimeUnit.SECONDS);
		  driver.findElement(By.id("phsmartphonebody_0_phsmartphoneproductprimarycontentarea_0_lnkWriteAReview")).click();
		  JavascriptExecutor jse = (JavascriptExecutor)driver;
		  jse.executeScript("document.getElementById('phsmartphonebody_0_imgRatingStarsOn').click();");
		
		  
		  
		  WebElement click = driver.findElement(By.xpath("//*[@id='phsmartphonebody_0_imgRatingStars']"));

		  click.click();
		  
		  
		  driver.findElement(By.id("phsmartphonebody_0_rptProductReview_rblControlForProductReview_0_0_0")).click();
		  
		  
		  driver.findElement(By.id("phsmartphonebody_0_rptProductReview_txtControlForProductReview_1")).sendKeys("Vanilla");
		  driver.findElement(By.id("phsmartphonebody_0_rptProductReview_textareaControlForProductReview_2")).sendKeys("Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore");
		  driver.findElement(By.id("phsmartphonebody_0_rptProfileInformation_txtControl_0")).sendKeys(timeStamp);
		  driver.findElement(By.id("phsmartphonebody_0_rptProfileInformation_txtControl_1")).sendKeys("Brooklyn,NY");
		  new Select(driver.findElement(By.id("phsmartphonebody_0_rptProfileInformation_ddlControl_2"))).selectByVisibleText("10");
		  new Select(driver.findElement(By.id("phsmartphonebody_0_rptProfileInformation_ddlControl_3"))).selectByVisibleText("1978");
		  driver.findElement(By.id("phsmartphonebody_0_rptProfileInformation_txtControl_4")).sendKeys("albert.golubev@pkt.com");
		  driver.findElement(By.id("phsmartphonebody_0_chkAgree")).click();
		  driver.findElement(By.id("phsmartphonebody_0_ibtnPreview")).click();
		  
		  
		  WebDriverWait wait = new WebDriverWait(driver, 30);
		  wait.until(ExpectedConditions.textToBePresentInElement(By.id("phsmartphonebody_0_divWrireReviewPreviewMode"), "CONFIRM YOUR REVIEW"));
	
		  driver.findElement(By.id("phsmartphonebody_0_ibtnSubmit")).click();
         
		  
		 wait = new WebDriverWait(driver, 30);
		  wait.until(ExpectedConditions.textToBePresentInElement(By.id("phsmartphonebody_0_divSuccessHeader"), "REVIEW SUBMITTED SUCCESSFULLY"));
		  

		  driver.findElement(By.id("phsmartphonebody_0_ibtnContinue")).click();
		  
		  
	
		  
	    driver.get("http://author.tampax.pgsitecore.com/en-us/search?term=TAMPAX%20PRODUCT");
	    driver.manage().timeouts().implicitlyWait(450000, TimeUnit.SECONDS);
	    driver.findElement(By.id("phsmartphonebody_0_phsmartphoneproductresults_0_RptrProductList_lblAddToCart_0")).click();
	    driver.manage().timeouts().implicitlyWait(450000, TimeUnit.SECONDS);
	    driver.findElement(By.id("lnkAddToCart")).click();
	    driver.manage().timeouts().implicitlyWait(450000, TimeUnit.SECONDS);
	    driver.findElement(By.id("phsmartphonebody_0_phsmartphoneshoppingcartheader_0_hypBack")).click();
	    System.out.println(driver.getTitle());
	    
	    driver.get("http://author.tampax.pgsitecore.com/en-us/search?term=TAMPAX%20PRODUCT");
	    driver.manage().timeouts().implicitlyWait(450000, TimeUnit.SECONDS);
	    driver.findElement(By.id("phsmartphonebody_0_phsmartphoneproductresults_0_RptrProductList_lblAddToCart_1")).click();
	    driver.manage().timeouts().implicitlyWait(450000, TimeUnit.SECONDS);
	    driver.findElement(By.id("lnkAddToCart")).click();
	    driver.manage().timeouts().implicitlyWait(450000, TimeUnit.SECONDS);
	    driver.findElement(By.id("phsmartphonebody_0_phsmartphoneshoppingcartheader_0_hypBack")).click();
	    System.out.println(driver.getTitle());
	    
	    
	    
	    driver.quit();
	}

}
